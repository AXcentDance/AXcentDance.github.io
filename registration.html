<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register for Classes | AXcent Dance</title>
    <link rel="canonical" href="https://axcentdance.com/registration">
    <meta name="description"
        content="Register for Bachata classes in Zurich with AXcent Dance. Choose your package and join the community.">
    <link rel="stylesheet" href="style.css?v=mobilefix">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- Supabase JS CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- Structured Data (Schema.org) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Register for Bachata Classes",
      "description": "Registration for dance classes at AXcent Dance Studio in Zurich.",
      "url": "https://axcentdance.com/registration",
      "mainEntity": {
        "@type": "Service",
        "name": "Bachata Dance Classes",
        "provider": {
            "@type": "DanceSchool",
            "name": "AXcent Dance"
        },
        "areaServed": "Zurich",
        "offers": {
            "@type": "Offer",
            "priceCurrency": "CHF",
            "price": "200.00",
            "availability": "https://schema.org/InStock"
        }
      }
    }
    </script>


    <style>
        /* Registration Specific Styles */
        /* Registration Specific Styles */
        /* .reg-hero removed in favor of .schedule-hero-modern */

        .reg-form-container {
            max-width: 800px;
            margin: 0 auto 80px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 2rem;
            padding: 3rem 2rem;
            backdrop-filter: blur(12px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .form-section-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-light);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 0.5rem;
        }

        .price-toggle {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px;
            border-radius: 50px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        .toggle-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            padding: 8px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .toggle-btn.active {
            background: var(--accent-start);
            color: #fff;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);
        }

        .package-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .package-option {
            cursor: pointer;
            position: relative;
        }

        .package-option input {
            position: absolute;
            opacity: 0;
        }

        .package-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem 1.5rem;
            border-radius: 16px;
            text-align: center;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .package-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .package-option input:checked+.package-card {
            border-color: var(--accent-start);
            background: rgba(108, 92, 231, 0.15);
            box-shadow: 0 0 30px rgba(108, 92, 231, 0.3);
            transform: scale(1.02);
        }

        .pkg-name {
            display: block;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .pkg-price {
            display: block;
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--accent-light);
        }

        .pkg-desc {
            display: block;
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-top: 0.5rem;
        }

        .class-checkbox-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 255, 255, 0.03);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .checkbox-label:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .checkbox-label input {
            accent-color: var(--accent-start);
            width: 18px;
            height: 18px;
        }

        @media (max-width: 768px) {
            .reg-form-container {
                padding: 20px;
            }

            .reg-hero {
                padding-top: 120px;
            }
        }

        /* NEW SEASON BANNER STYLES */
        .season-banner {
            position: relative;
            background: linear-gradient(135deg, rgba(20, 20, 30, 0.8) 0%, rgba(30, 30, 45, 0.9) 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 2.5rem;
            margin-bottom: 3rem;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 2rem;
            backdrop-filter: blur(10px);
        }

        .season-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-start), var(--accent-end));
        }

        .season-info {
            flex: 1;
        }

        .season-label {
            display: inline-block;
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: var(--accent-start);
            background: rgba(108, 92, 231, 0.1);
            padding: 6px 14px;
            border-radius: 30px;
            margin-bottom: 1rem;
            border: 1px solid rgba(108, 92, 231, 0.2);
        }

        .season-heading {
            font-size: 2rem;
            font-weight: 800;
            color: white;
            line-height: 1.1;
            margin-bottom: 0.75rem;
            letter-spacing: -0.5px;
        }

        .season-sub {
            font-size: 1.1rem;
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 0;
        }

        .season-location-wrap {
            flex-shrink: 0;
            width: 320px;
        }

        .location-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.04);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.25rem;
            border-radius: 16px;
            text-decoration: none;
            color: white;
            transition: all 0.3s ease;
        }

        .location-card:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .loc-icon-box {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 12px;
            font-size: 1.25rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .loc-info strong {
            display: block;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        .loc-info span {
            display: block;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        @media (max-width: 768px) {
            .season-banner {
                flex-direction: column;
                align-items: flex-start;
                padding: 2rem 1.5rem;
            }

            .season-location-wrap {
                width: 100%;
            }
        }

        /* Pricing Table Styles */
        .pricing-overview {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .pricing-table-wrapper {
            overflow-x: auto;
        }

        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            color: var(--text-light);
            min-width: 500px;
        }

        .pricing-table th {
            text-align: left;
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--accent-start);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pricing-table td {
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            font-size: 1rem;
        }

        .pricing-table tr:last-child td {
            border-bottom: none;
        }

        .price-regular {
            font-weight: 700;
            color: white;
        }

        .price-student {
            color: var(--accent-light);
            font-weight: 600;
        }

        .pass-name {
            font-weight: 600;
        }

        .pass-duration {
            font-size: 0.8rem;
            color: var(--text-muted);
            display: block;
        }
    </style>

  <!-- Cookie Consent -->
  <link rel="stylesheet" href="assets/css/cookie-consent.css">
  <script src="assets/js/cookie-consent.js" defer></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-E2SYCF7R7X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-E2SYCF7R7X');
  </script>
    <!-- CRITICAL: FAIL-SAFE MOBILE MENU STYLES -->
  <style>
    /* DESKTOP (900px+) - HIDE BUTTON */
    @media (min-width: 900px) {
      .mobile-menu-btn {
        display: none !important;
      }
    }

    /* MOBILE (<900px) - SHOW BUTTON ABSOLUTE LEFT */
    @media (max-width: 899px) {
      .navbar {
        position: relative !important;
        /* Ensure anchor */
        justify-content: center !important;
        /* Center logo */
      }

      .mobile-menu-btn {
        display: flex !important;
        position: absolute !important;
        /* Absolute to navbar */
        top: 50% !important;
        transform: translateY(-50%) !important;
        left: 15px !important;
        z-index: 10001 !important;

        /* RED EMERGENCY BACKGROUND */
        background: rgba(255, 0, 0, 0.8) !important;
        border: 2px solid white !important;
        border-radius: 8px !important;
        
        color: white !important;

        width: 50px !important;
        height: 50px !important;
        align-items: center;
        justify-content: center;
        padding: 0;
        cursor: pointer;
      }

      /* Ensure SVG is visible */
      .mobile-menu-btn svg {
        width: 32px !important;
        height: 32px !important;
        stroke: white !important;
        display: block !important;
      }
    }
  </style>
</head>

<body>
    <!-- Page Transition Loader -->
    <div id="page-transition">
        <img src="assets/images/logo.png" alt="AXcent Logo" class="transition-logo">
    </div>

    <!-- Background Blobs -->
    <div class="blob blob-1"></div>
    <div class="blob blob-2"></div>
    <div class="blob blob-3"></div>

    <!-- Navigation -->
    <header class="main-header">
        <div class="container navbar">
            <a href="index.html" class="logo">
                <span class="logo-title">AXCENT</span><span class="logo-subtitle text-gradient">DANCE</span>
            </a>
            <button class="mobile-menu-btn" aria-label="Toggle menu">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12" class="line-middle"></line>
        <line x1="3" y1="6" x2="21" y2="6" class="line-top"></line>
        <line x1="3" y1="18" x2="21" y2="18" class="line-bottom"></line>
    </svg>
</button>
            <nav class="nav-links">
                <a href="about.html">About us</a>
                <a href="schedule.html">Schedule</a>
                <a href="registration.html" class="active">Registration</a>
                <a href="events.html">Events</a>
                <a href="contact.html">Contact</a>
                <!-- <a href="login.html" style="color:var(--accent-light);">Log In</a> -->
                <div class="dropdown">
                    <button class="dropbtn">More ‚ñæ</button>
                    <div class="dropdown-content">
                        <a href="room-rental.html"><span>Room Rental</span></a>
                        <a href="collaborations.html"><span>Collaborations</span></a>
                        <a href="corporate-events.html"><span>Corporate Events</span></a>
                        <a href="wedding-dance.html"><span>Wedding Dance</span></a>
                        <a href="private-lessons.html"><span>Private Lessons</span></a>
                        <a href="gallery.html"><span>Gallery</span></a>
                        <a href="education.html"><span>Education</span></a>
                        <a href="beginner-guide.html"><span>Beginner Guide</span></a>
                        <a href="blog.html"><span>Blog</span></a>
                        <a href="faq.html"><span>FAQ</span></a>
                        <a href="etiquette.html"><span>Dance Etiquette</span></a>
                    </div>
                </div>
                <a href="index.html#trial-form" class="btn-header-cta">Book Free Trial</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section (Modern Split) -->
    <section class="schedule-hero-modern">
        <div class="container">
            <div class="hero-grid">
                <!-- Left: Text Content -->
                <div class="hero-content-left">
                    <div class="hero-badge">
                        <div class="hero-badge-line"></div>
                        <div class="hero-badge-text">JOIN THE MOVEMENT</div>
                    </div>
                    <h1 class="page-title" style="margin-bottom: 1rem;">
                        REGISTRATION
                    </h1>
                    <p class="hero-desc-border" style="border: none; padding: 0; margin: 0; max-width: 500px;">
                        Register now for Bachata Sensual classes in Zurich. Partnerwork and ladystyle.
                        <strong>No partner needed.</strong>
                    </p>
                    <div class="reg-description" style="margin-top: 1.5rem; color: var(--text-muted);">
                        <p>All classes run continuously. Each pass is valid for <strong>8 weeks</strong>.</p>
                    </div>
                </div>

                <!-- Right: Image -->
                <div class="hero-content-right">
                    <div class="framed-hero-wrapper">
                        <div class="framed-hero-inner">
                            <img src="assets/images/registration_hero_placeholder.png"
                                alt="Bachata Dance Class Placeholder">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main>
        <section class="container" style="margin-top: 4rem;">

            <!-- Winter Holiday Notice -->
            <!-- Winter Holiday Notice -->
            <!-- New Season Banner (Premium Redesign) -->
            <div class="season-banner">
                <div class="season-info">
                    <span class="season-label">New Location</span>
                    <h2 class="season-heading">New Dance Season Starts <br><span class="text-gradient">Week of Jan
                            12th</span></h2>
                    <p class="season-sub">We are moving! Join us in our brand new home for an amazing year of dance.</p>
                </div>

                <div class="season-location-wrap">
                    <a href="https://maps.google.com/?q=Hermetschloostrasse+73,+8048+Zurich+Altstetten" target="_blank"
                        class="location-card">
                        <div class="loc-icon-box">üìç</div>
                        <div class="loc-info">
                            <strong>Hermetschloostrasse 73</strong>
                            <span>8048 Zurich Altstetten</span>
                            <span style="font-size: 0.75rem; color: var(--accent-light); margin-top: 4px;">Tap to Open
                                Map ‚Üí</span>
                        </div>
                    </a>
                </div>
            </div>

            <!-- Pricing Table -->
            <div class="pricing-overview">
                <h2 class="section-title-modern" style="margin-bottom: 2rem; font-size: 2.5rem; text-align: center;">
                    Pass <span class="text-gradient">Prices</span></h2>
                <div class="pricing-table-wrapper">
                    <table class="pricing-table">
                        <thead>
                            <tr>
                                <th>Pass Type</th>
                                <th>Regular Price</th>
                                <th>Student Price (-15%)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <span class="pass-name">1 Course / Week</span>
                                    <span class="pass-duration">8 Weeks (8 Lessons)</span>
                                </td>
                                <td class="price-regular">200 CHF</td>
                                <td class="price-student">170 CHF</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="pass-name">2 Classes / Week</span>
                                    <span class="pass-duration">8 Weeks (16 Lessons)</span>
                                </td>
                                <td class="price-regular">318 CHF</td>
                                <td class="price-student">270 CHF</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="pass-name">3 Classes / Week</span>
                                    <span class="pass-duration">8 Weeks (24 Lessons)</span>
                                </td>
                                <td class="price-regular">395 CHF</td>
                                <td class="price-student">335 CHF</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="pass-name">4 Classes / Week</span>
                                    <span class="pass-duration">8 Weeks (32 Lessons)</span>
                                </td>
                                <td class="price-regular">460 CHF</td>
                                <td class="price-student">390 CHF</td>
                            </tr>
                            <tr>
                                <td>
                                    <span class="pass-name">10-Class Flexi</span>
                                    <span class="pass-duration">Valid for 1 Year</span>
                                </td>
                                <td class="price-regular">280 CHF</td>
                                <td class="price-student">238 CHF</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="form-wrapper reg-form-container">
                <h2 class="section-title-modern" style="margin-bottom: 2rem; text-align: center;">Registration Form</h2>

                <form class="registration-form" id="registrationForm">
                    <input type="hidden" name="pricing_tier" id="pricingTier" value="Regular">
                    <!-- Removed formsubmit inputs as we handle submission via JS -->

                    <!-- 1. Personal Details -->
                    <div class="form-section">
                        <h2 class="form-section-title">1. Personal Details</h2>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="firstname">First Name</label>
                                <input type="text" id="firstname" name="firstname" required placeholder="Jane">
                            </div>
                            <div class="form-group">
                                <label for="lastname">Last Name</label>
                                <input type="text" id="lastname" name="lastname" required placeholder="Doe">
                            </div>
                        </div>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" id="email" name="email" required placeholder="jane@example.com">
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input type="tel" id="phone" name="phone" required placeholder="+41 79 123 45 67">
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 1rem;">
                            <label>Sex</label>
                            <div class="radio-group" style="display: flex; gap: 2rem;">
                                <label class="checkbox-label" style="flex: 1; justify-content: center;">
                                    <input type="radio" name="sex" value="Male" required>
                                    <span>Male üë®</span>
                                </label>
                                <label class="checkbox-label" style="flex: 1; justify-content: center;">
                                    <input type="radio" name="sex" value="Female" required>
                                    <span>Female üë©</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Class Passes -->
                    <div class="form-section" style="margin-top: 3rem;">
                        <h2 class="form-section-title">2. Class Passes</h2>
                        <p style="color: var(--text-muted); margin-bottom: 1rem; font-size: 0.9rem;">
                            Select the package that fits your schedule.
                        </p>

                        <div class="price-toggle" style="margin-bottom: 2rem;">
                            <button type="button" class="toggle-btn active" id="btnRegular"
                                onclick="setPricing('regular')">Regular</button>
                            <button type="button" class="toggle-btn" id="btnStudent"
                                onclick="setPricing('student')">Student (-15%)</button>
                        </div>
                        <input type="hidden" name="pricing_tier" id="pricingTier" value="Regular">

                        <div class="pricing-grid">
                            <!-- 1 Course -->
                            <label class="pricing-option">
                                <input type="radio" name="package" value="1 Course (8 Weeks)" required>
                                <div class="pricing-card">
                                    <div class="pricing-header">
                                        <span class="pricing-title">1 Course/Week</span>
                                        <span class="pricing-duration">8 Weeks</span>
                                    </div>
                                    <div class="pricing-price" data-reg="200 CHF" data-stu="170 CHF">200 CHF</div>
                                    <div class="pricing-desc">8 Lessons Total</div>
                                </div>
                            </label>

                            <!-- 2 Classes/Week -->
                            <label class="pricing-option">
                                <input type="radio" name="package" value="2 Classes/Week (8 Weeks)">
                                <div class="pricing-card">
                                    <div class="pricing-header">
                                        <span class="pricing-title">2 Classes/Week</span>
                                        <span class="pricing-duration">8 Weeks</span>
                                    </div>
                                    <div class="pricing-price" data-reg="318 CHF" data-stu="270 CHF">318 CHF</div>
                                    <div class="pricing-desc">16 Lessons Total</div>
                                </div>
                            </label>

                            <!-- 3 Classes/Week -->
                            <label class="pricing-option">
                                <input type="radio" name="package" value="3 Classes/Week (8 Weeks)">
                                <div class="pricing-card">
                                    <div class="pricing-header">
                                        <span class="pricing-title">3 Classes/Week</span>
                                        <span class="pricing-duration">8 Weeks</span>
                                    </div>
                                    <div class="pricing-price" data-reg="395 CHF" data-stu="335 CHF">395 CHF</div>
                                    <div class="pricing-desc">24 Lessons Total</div>
                                </div>
                            </label>

                            <!-- 4 Classes/Week -->
                            <label class="pricing-option">
                                <input type="radio" name="package" value="4 Classes/Week (8 Weeks)">
                                <div class="pricing-card">
                                    <div class="pricing-header">
                                        <span class="pricing-title">4 Classes/Week</span>
                                        <span class="pricing-duration">8 Weeks</span>
                                    </div>
                                    <div class="pricing-price" data-reg="460 CHF" data-stu="390 CHF">460 CHF</div>
                                    <div class="pricing-desc">32 Lessons Total</div>
                                </div>
                            </label>

                            <!-- 10 Class Pass -->
                            <label class="pricing-option full-width">
                                <input type="radio" name="package" value="10-Class Flexible Pack">
                                <div class="pricing-card">
                                    <div class="pricing-header">
                                        <span class="pricing-title">10-Class Flexible Pack</span>
                                        <span class="pricing-duration">1 Year Validity</span>
                                    </div>
                                    <div class="pricing-price" data-reg="280 CHF" data-stu="238 CHF">280 CHF</div>
                                    <div class="pricing-desc">Flexible attendance for 1 year</div>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Pass Activation Date -->
                    <div class="form-section" style="margin-top: 3rem;">
                        <h2 class="form-section-title">2a. Activation Date</h2>
                        <div class="form-group">
                            <label for="activation_date"
                                style="display: block; margin-bottom: 0.5rem; font-weight: bold;">When do you want to
                                start?</label>
                            <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem;">
                                Choose the date your 8-week pass will effectively start.
                            </p>
                            <select id="activation_date" name="activation_date" class="form-select" required
                                style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: white; -webkit-appearance: none; appearance: none;">
                                <!-- Populated by JS -->
                            </select>
                        </div>

                        <!-- Auto-computed End Date -->
                        <div class="form-group" style="margin-top: 1rem;">
                            <label for="pass_end_date"
                                style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: var(--accent-light);">Pass
                                Valid Until (8 Weeks)</label>
                            <input type="text" id="pass_end_date" name="pass_end_date" readonly
                                style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.02); color: var(--text-muted); cursor: not-allowed;">
                        </div>
                    </div>

                    <!-- 3. Select Classes -->
                    <div class="form-section" style="margin-top: 3rem;">
                        <h2 class="form-section-title">3. Select Your Classes</h2>
                        <p
                            style="color: var(--text-muted); margin-bottom: 1rem; font-size: 0.9rem; line-height: 1.5; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 3px solid var(--accent-light);">
                            <strong>Important:</strong> Please select the exact number of classes corresponding to your
                            chosen package.<br>
                            (e.g., If you selected "2 Classes/Week", please check exactly 2 boxes below).
                        </p>

                        <div class="timetable-selection-grid">
                            <!-- Wednesday Column -->
                            <div class="timetable-col">
                                <h4 class="timetable-day-header">Wednesday</h4>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]" value="Wed 18:30 Beginner 0">
                                        <div class="class-option-card">
                                            <span class="time">18:30</span>
                                            <span class="name">Bachata Beginner 0</span>
                                        </div>
                                    </label>
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Wed_1830_Beginner_0"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Wed_1830_Beginner_0"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]" value="Wed 19:30 Sensual Foundation">
                                        <div class="class-option-card">
                                            <span class="time">19:30</span>
                                            <span class="name">Bachata Sensual Foundation</span>
                                        </div>
                                    </label>
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Wed_1930_Sensual_Foundation"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Wed_1930_Sensual_Foundation"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]" value="Wed 20:30 Sensual Improver">
                                        <div class="class-option-card">
                                            <span class="time">20:30</span>
                                            <span class="name">Bachata Sensual Improver</span>
                                        </div>
                                    </label>
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Wed_2030_Sensual_Improver"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Wed_2030_Sensual_Improver"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>
                            </div>

                            <!-- Thursday Column -->
                            <div class="timetable-col">
                                <h4 class="timetable-day-header">Thursday</h4>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]" value="Thu 18:30 Beginner 3">
                                        <div class="class-option-card">
                                            <span class="time">18:30</span>
                                            <span class="name">Bachata Beginner 3</span>
                                        </div>
                                    </label>
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Thu_1830_Beginner_3"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Thu_1830_Beginner_3"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]" value="Thu 19:30 Lady Styling">
                                        <div class="class-option-card">
                                            <span class="time">19:30</span>
                                            <span class="name">Lady Styling</span>
                                        </div>
                                    </label>
                                    <!-- No role select for Lady Styling as it's solo/styling usually, but user asked for it next to EACH course. Adding for consistency or maybe skip? 
                                         User said "each person can maybe have a course as lead and another as follow". Lady styling implies no partner. 
                                         I will add it but maybe it's redundant. Actually, Lady Styling is usually solo. 
                                         Let's add it for consistency but maybe hide it or just not include it for styling? 
                                         User said "Next to each course". I'll add it. -->
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Thu_1930_Lady_Styling"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Thu_1930_Lady_Styling"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>

                                <div class="class-option-wrapper">
                                    <label class="class-option">
                                        <input type="checkbox" name="classes[]"
                                            value="Thu 20:30 Sensual Intermediate/Advanced">
                                        <div class="class-option-card">
                                            <span class="time">20:30</span>
                                            <span class="name">Bachata Sensual Int/Adv</span>
                                            <span
                                                style="display: block; font-size: 0.7rem; color: var(--accent-start); margin-top: 0.2rem;">*
                                                Instructor approval required</span>
                                        </div>
                                    </label>
                                    <div class="class-role-select">
                                        <label><input type="radio" name="role_Thu_2030_Sensual_Int_Adv"
                                                value="Leader"><span>Leader</span></label>
                                        <label><input type="radio" name="role_Thu_2030_Sensual_Int_Adv"
                                                value="Follower"><span>Follower</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 2rem;">
                            <label for="dates_unavailable"
                                style="line-height: 1.4; display: block; margin-bottom: 0.5rem;">
                                Your pass is 8 weeks long. If there are days you cannot join (up to 2), write them here
                                so that we can extend your pass:
                            </label>
                            <textarea id="dates_unavailable" name="dates_unavailable" rows="2"
                                placeholder="e.g., Dec 25th, Jan 1st..."></textarea>
                        </div>
                    </div>

                    <!-- 4. Agreements -->
                    <div class="form-section" style="margin-top: 3rem;">
                        <div class="form-group">
                            <label class="checkbox-label" style="background: none; padding: 0;">
                                <input type="checkbox" name="newsletter" value="yes" checked>
                                <span style="font-size: 0.9rem; color: var(--text-muted);">I want to stay connected
                                    with
                                    AXcent Dance news and events.</span>
                            </label>
                        </div>
                        <div class="form-group" style="margin-top: 1rem;">
                            <label class="checkbox-label" style="background: none; padding: 0;">
                                <input type="checkbox" name="privacy_policy" required>
                                <span style="font-size: 0.9rem; color: var(--text-muted);">I accept the <a
                                        href="privacy.html" target="_blank" style="color: var(--accent-light);">Privacy
                                        Policy</a>.</span>
                            </label>
                        </div>
                        <div class="form-group" style="margin-top: 0.5rem;">
                            <label class="checkbox-label" style="background: none; padding: 0;">
                                <input type="checkbox" name="terms" required>
                                <span style="font-size: 0.9rem; color: var(--text-muted);">I accept the <a href=""
                                        target="_blank" style="color: var(--accent-light);">General
                                        Terms and Conditions</a>.</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-header-cta" id="submitRegBtn"
                        style="width: fit-content; margin: 2rem auto 0; border: 1px solid var(--accent-start); display: flex; justify-content: center; align-items: center; font-size: 1.1rem; padding: 1rem 3rem;">
                        <div>COMPLETE REGISTRATION</div>
                    </button>

                </form>
            </div>
        </section>

    </main>

    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-col">
                <a href="index.html" class="logo footer-logo"><span class="logo-title">AXCENT</span><span
                        class="logo-subtitle text-gradient">DANCE</span></a>
                <p class="footer-address">
                    Hermetschloostrasse 73,<br>
                    8048 Zurich Altstetten<br> 2 minute walking from Tram 2 stop and Bus 31 stop
                </p>
                <div class="footer-socials">
                    <a href="https://www.instagram.com/axcent_dance/" target="_blank" aria-label="Instagram">
                        <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                            <path
                                d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                        </svg>
                    </a>
                    <a href="mailto:info@axcentdance.com" aria-label="Email">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                            </path>
                        </svg>
                    </a>
                </div>
            </div>

            <div class="footer-col">
                <h4 class="footer-heading">Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="guide-bachata.html">Bachata in Zurich</a></li>
                    <li><a href="wedding-dance.html">Wedding Dance</a></li>
                    <li><a href="private-lessons.html">Private Lessons</a></li>
                    
                </ul>
            </div>

            <div class="footer-col">
                <h4 class="footer-heading">Legal</h4>
                <ul class="footer-links">
                    <li><a href="terms.html">Terms & Conditions</a></li>
                    <li><a href="privacy.html">Privacy Policy</a></li>
                    <li><a href="imprint.html">Imprint</a></li>
                </ul>
            </div>
        </div>

        <div class="container footer-map-full" style="margin-bottom: 2rem;">
            <h4 class="footer-heading" style="margin-bottom: 1rem;">Find Us</h4>
            <div class="footer-map-wrapper-large"
                style="border-radius: 12px; overflow: hidden; border: 1px solid var(--glass-border);">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2701.567677685764!2d8.4844443!3d47.3861111!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47900a3910000001%3A0x1234567890abcdef!2sHermetschloostrasse%2073%2C%208048%20Z%C3%BCrich!5e0!3m2!1sen!2sch!4v1625000000000!5m2!1sen!2sch"
                    width="100%" height="250" style="border:0; width: 100%; display: block;" allowfullscreen=""
                    loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 AXcent Dance. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Pricing Toggle Logic (Global)
        // Moved out of module to ensure it loads reliably
        window.setPricing = function (type) {
            const btnRegular = document.getElementById('btnRegular');
            const btnStudent = document.getElementById('btnStudent');
            const pricingInput = document.getElementById('pricingTier');

            if (type === 'regular') {
                btnRegular.classList.add('active');
                btnStudent.classList.remove('active');
                pricingInput.value = 'Regular';

                document.querySelectorAll('.pricing-price').forEach(el => {
                    el.textContent = el.getAttribute('data-reg');
                });
            } else {
                btnRegular.classList.remove('active');
                btnStudent.classList.add('active');
                pricingInput.value = 'Student';

                document.querySelectorAll('.pricing-price').forEach(el => {
                    el.textContent = el.getAttribute('data-stu');
                });
            }
        }

        // Activation Date Logic (Specific for Jan 2026 Season)
        function populateActivationDates() {
            const select = document.getElementById('activation_date');
            if (!select) return;

            // Hardcoded start date for the new season as requested
            // "First Wednesday and Thursday possible the 14/15 January"
            // We want Jan 14, 15, 21, 22.

            // Note: Months are 0-indexed in JS (0 = Jan)
            const seasonStart = new Date(2026, 0, 14); // Jan 14, 2026

            const options = [];

            // Helper to format date: "Wed, Jan 14 2026"
            const formatDate = (d) => {
                return d.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
            };

            // Find next 2 Wednesdays starting from seasonStart
            let d = new Date(seasonStart);
            let wedCount = 0;
            for (let i = 0; i < 30 && wedCount < 2; i++) {
                if (d.getDay() === 3) { // Wednesday
                    options.push({ date: new Date(d), label: formatDate(d) });
                    wedCount++;
                }
                d.setDate(d.getDate() + 1);
            }

            // Find next 2 Thursdays starting from seasonStart
            d = new Date(seasonStart);
            let thuCount = 0;
            for (let i = 0; i < 30 && thuCount < 2; i++) {
                if (d.getDay() === 4) { // Thursday
                    options.push({ date: new Date(d), label: formatDate(d) });
                    thuCount++;
                }
                d.setDate(d.getDate() + 1);
            }

            // Sort chronologically
            options.sort((a, b) => a.date - b.date);

            // Add to select
            options.forEach(opt => {
                const el = document.createElement('option');
                el.value = opt.label;
                el.textContent = opt.label;
                el.dataset.dateObj = opt.date.toISOString(); // Store real date for calc
                select.appendChild(el);
            });

            // Initial End Date Calculation
            updateEndDate();

            // Listener
            select.addEventListener('change', updateEndDate);
        }

        function updateEndDate() {
            const select = document.getElementById('activation_date');
            const endInput = document.getElementById('pass_end_date');
            if (!select || !endInput) return;

            // Get selected option's date
            const selectedOption = select.options[select.selectedIndex];
            if (!selectedOption) return;

            // Parse date (we stored ISO or parse label)
            // Using label "Wed, Jan 14 2026" works in most browsers, but let's be safe
            // I added data-dateObj above for safety
            let startDate = new Date(selectedOption.dataset.dateObj || selectedOption.value);

            if (!isNaN(startDate.getTime())) {
                // Add 8 weeks - 1 day (55 days)
                const endDate = new Date(startDate);
                endDate.setDate(endDate.getDate() + 55);

                // Format: "Wed, Mar 11 2026"
                endInput.value = endDate.toLocaleDateString('en-US', { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
            }
        }

        // Run on load
        document.addEventListener('DOMContentLoaded', populateActivationDates);
    </script>
    <script type="module">
        import { supabase } from './assets/js/supabase-client.js';

        document.addEventListener('DOMContentLoaded', () => {
            // Role Selection Logic
            const classCheckboxes = document.querySelectorAll('.class-option input[type="checkbox"]');

            function updateRoleState(checkbox) {
                const wrapper = checkbox.closest('.class-option-wrapper');
                const roleRadios = wrapper.querySelectorAll('.class-role-select input[type="radio"]');
                const roleLabels = wrapper.querySelectorAll('.class-role-select label');

                if (checkbox.checked) {
                    roleRadios.forEach(radio => radio.disabled = false);
                    roleLabels.forEach(label => label.style.opacity = '1');
                    roleLabels.forEach(label => label.style.pointerEvents = 'auto');
                } else {
                    roleRadios.forEach(radio => {
                        radio.disabled = true;
                        radio.checked = false; // Uncheck if class is deselected
                    });
                    roleLabels.forEach(label => label.style.opacity = '0.5');
                    roleLabels.forEach(label => label.style.pointerEvents = 'none');
                }
            }

            classCheckboxes.forEach(cb => {
                updateRoleState(cb);
                cb.addEventListener('change', () => updateRoleState(cb));
            });

            // Form Validation & Submission
            const validationForm = document.getElementById('registrationForm');
            if (validationForm) {
                validationForm.addEventListener('submit', async function (e) {
                    e.preventDefault();

                    // 1. Validation
                    const selectedClasses = document.querySelectorAll('.class-option input[type="checkbox"]:checked');

                    if (selectedClasses.length === 0) {
                        alert('Please select at least one class to register.');
                        return;
                    }

                    let rolesMap = {};

                    for (const checkbox of selectedClasses) {
                        const wrapper = checkbox.closest('.class-option-wrapper');
                        const roleSelected = wrapper.querySelector('.class-role-select input[type="radio"]:checked');

                        if (!roleSelected) {
                            const className = wrapper.querySelector('.name').textContent;
                            alert(`Please select a role (Leader/Follower) for ${className}.`);
                            return;
                        }
                        // Map role to class name/value
                        // Extract class name from value, e.g. "Wed 18:30 Beginner 0"
                        const classVal = checkbox.value;
                        rolesMap[classVal] = roleSelected.value;
                    }

                    // 2. Gather Data
                    const formData = new FormData(validationForm);
                    const isStudent = document.getElementById('pricingTier').value === 'Student';
                    const selectedPackage = formData.get('package');

                    if (!selectedPackage) {
                        alert("Please select a package.");
                        return;
                    }

                    const button = validationForm.querySelector('button[type="submit"]');
                    const originalText = button.innerHTML;
                    button.disabled = true;
                    button.innerHTML = '<div>Processing...</div>';

                    // 3. Determine Stripe Link
                    let stripeLink = '';
                    const links = {
                        "10-Class Flexible Pack": {
                            student: "https://buy.stripe.com/aFa00l1sz1Dz90jewWfnO09",
                            regular: "https://buy.stripe.com/8x2cN71szaa5b8r88yfnO08"
                        },
                        "4 Classes/Week (8 Weeks)": {
                            student: "https://buy.stripe.com/dRmdRbdbh4PLccv74ufnO07",
                            regular: "https://buy.stripe.com/00w14p9Z59610tN1KafnO06"
                        },
                        "3 Classes/Week (8 Weeks)": {
                            student: "https://buy.stripe.com/aFabJ37QXgyt90j60qfnO05",
                            regular: "https://buy.stripe.com/cNiaEZ8V13LH90j74ufnO04"
                        },
                        "2 Classes/Week (8 Weeks)": {
                            student: "https://buy.stripe.com/aFaeVf4ELeqla4n3SifnO03",
                            regular: "https://buy.stripe.com/eVqeVf9Z581X1xR60qfnO02"
                        },
                        "1 Course (8 Weeks)": {
                            student: "https://buy.stripe.com/cNidRb9Z56XTccv0G6fnO01",
                            regular: "https://buy.stripe.com/eVq28tb395TP5O7agGfnO00"
                        }
                    };

                    if (links[selectedPackage]) {
                        stripeLink = isStudent ? links[selectedPackage].student : links[selectedPackage].regular;
                        // Pre-fill email to ensure webhook matching
                        const userEmail = formData.get('email');
                        if (userEmail) {
                            stripeLink += '?prefilled_email=' + encodeURIComponent(userEmail);
                        }
                    } else {
                        alert("Invalid package selection.");
                        button.disabled = false;
                        button.innerHTML = originalText;
                        return;
                    }

                    // 4. Submit to Supabase & Google Sheets
                    const datesUnavailable = formData.get('dates_unavailable') || null;
                    const classes = [];
                    document.querySelectorAll('input[name="classes[]"]:checked').forEach(cb => classes.push(cb.value));

                    // Google Sheets URL
                    const GOOGLE_SCRIPT_URL = "https://script.google.com/a/macros/axcentdance.com/s/AKfycbzDzMkSGAKHukwbblwrefJ9kSq2esnEWmTCeGvT0KtRZ9sfEdzRH9e7EsatC6y8qLKBUA/exec";

                    const submissionPayload = {
                        first_name: formData.get('firstname'),
                        last_name: formData.get('lastname'),
                        email: formData.get('email'),
                        phone: formData.get('phone'),
                        sex: formData.get('sex'),
                        package_name: selectedPackage,
                        is_student: isStudent,
                        pass_start_date: formData.get('activation_date'),
                        pass_end_date: document.getElementById('pass_end_date').value,
                        dates_unavailable: datesUnavailable,
                        selected_classes: classes,
                        roles: rolesMap
                    };

                    try {
                        // Parallel Submission: Supabase + Google Sheets
                        const supabasePromise = supabase
                            .from('registrations')
                            .insert([{
                                ...submissionPayload, // Reuse mapped fields
                                status: 'pending_payment'
                            }]);

                        // Use no-cors for Google Sheets to avoid CORS blocks (Fire and Forget style)
                        const googleSheetsPromise = fetch(GOOGLE_SCRIPT_URL, {
                            method: "POST",
                            mode: "no-cors",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify(submissionPayload)
                        });

                        const [{ data, error }, googleRes] = await Promise.all([supabasePromise, googleSheetsPromise]);

                        if (error) {
                            console.error('Supabase Error:', error);
                            // Proceed anyway, payment is priority
                        }
                        console.log('Google Sheets Sync Initiated');

                    } catch (err) {
                        console.error('Submission Error:', err);
                    }

                    // 5. Construct Email (Mailto) - BACKUP
                    const subject = `Registration: ${formData.get('firstname')} ${formData.get('lastname')}`;

                    const body = `
Name: ${formData.get('firstname')} ${formData.get('lastname')}
Email: ${formData.get('email')}
Phone: ${formData.get('phone')}
Sex: ${formData.get('sex')}
Student: ${isStudent ? 'Yes' : 'No'}
Package: ${selectedPackage}
Dates Unavailable: ${datesUnavailable || 'None'}

Selected Classes:
${classes.join('\n')}
                    `.trim();

                    const mailtoLink = `mailto:slamitza@gmail.com,info@axcentdance.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

                    // 6. Store Links & Redirect
                    localStorage.setItem('axcent_stripe_link', stripeLink);
                    localStorage.setItem('axcent_mailto_link', mailtoLink);

                    window.location.href = 'cart.html';
                });
            }
        });
    </script>

















    

</body>

</html>